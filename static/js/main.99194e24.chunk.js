(this["webpackJsonptareas-app"]=this["webpackJsonptareas-app"]||[]).push([[0],{40:function(e,t,n){},70:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(32),s=n.n(c),i=(n(39),n(40),n(12)),o=n(4),u=n(9),l=n(2),p=n.n(l),d=n(3),j=n(18),b=n(14),h=n.n(b),x="https://api-tarea.herokuapp.com/",m=JSON.parse(sessionStorage.getItem("user_token")||"{}"),f={"Content-Type":"application/json",Authorization:"Token "+(null===m||void 0===m?void 0:m.token)},O=function(){var e=Object(d.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get("".concat(x).concat(t),{headers:f});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(d.a)(p.a.mark((function e(t,n){var r,a=arguments;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]?a[2]:f,e.next=3,h.a.post("".concat(x).concat(t),n,{headers:r});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),g=function(){var e=Object(d.a)(p.a.mark((function e(t,n){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.put("".concat(x).concat(t),n,{headers:f});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),N=function(){var e=Object(d.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.delete("".concat(x).concat(t),{headers:f});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function w(e){return k.apply(this,arguments)}function k(){return(k=Object(d.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v("security/login",t,{});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var y=n(1);var S=Object(o.f)((function(e){var t=Object(j.a)(),n=t.register,r=t.handleSubmit,a=t.formState.errors,c=function(){var t=Object(d.a)(p.a.mark((function t(n){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w(n).then((function(t){console.log(t);var n=t.data;sessionStorage.setItem("user_token",JSON.stringify(n)),e.history.push("/app-tareas/inicio")})).catch((function(e){var t,n;alert(null===e||void 0===e||null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.detail)}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(y.jsx)("div",{className:"container-login",children:Object(y.jsxs)("form",{onSubmit:r(c),className:"form-login",children:[Object(y.jsx)("h2",{className:"text-center text-white",children:"Iniciar Session"}),Object(y.jsx)("br",{}),Object(y.jsxs)("div",{className:"form-group",children:[Object(y.jsx)("input",Object(u.a)(Object(u.a)({type:"text"},n("email",{required:"Este campo es obligatorio",maxLength:{message:"Maximo 100 caracteres",value:100}})),{},{className:"form-control",placeholder:"Email"})),(null===a||void 0===a?void 0:a.email)&&Object(y.jsx)("p",{className:"text-danger text-sm",children:a.email.message})]}),Object(y.jsxs)("div",{className:"form-group",children:[Object(y.jsx)("input",Object(u.a)(Object(u.a)({type:"password"},n("password",{required:"Este campo es obligatorio",maxLength:{message:"Maximo 50 caracteres",value:50}})),{},{className:"form-control",placeholder:"Contrase\xf1a",autoComplete:"false"})),(null===a||void 0===a?void 0:a.password)&&Object(y.jsx)("p",{className:"text-danger text-sm",children:a.password.message})]}),Object(y.jsx)("button",{type:"submit",className:"btn btn-success btn-block",children:"Aceptar"})]})})})),E=n(8);function T(){var e=Object(r.useState)(!1),t=Object(E.a)(e,2),n=t[0],a=t[1];return Object(y.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-success",children:[Object(y.jsx)(i.b,{to:"/app-tareas",className:"navbar-brand",children:"Inicio"}),Object(y.jsx)("button",{className:"navbar-toggler",type:"button",onClick:function(){a(!n)},children:Object(y.jsx)("span",{className:"navbar-toggler-icon"})}),Object(y.jsx)("div",{className:n?"navbar-collapse":"navbar-collapse collapse",children:Object(y.jsxs)("ul",{className:"navbar-nav mr-auto",children:[Object(y.jsx)("li",{className:"nav-item ",children:Object(y.jsx)(i.b,{to:"/app-tareas/inicio",className:"nav-link",children:"Inicio"})}),Object(y.jsx)("li",{className:"nav-item",children:Object(y.jsx)(i.b,{to:"/app-tareas/tareas",className:"nav-link",children:" Mis Tareas "})}),Object(y.jsx)("li",{className:"nav-item",children:Object(y.jsx)(i.b,{to:"/app-tareas/usuarios",className:"nav-link",children:"Usuarios"})})]})})]})}function I(){return Object(y.jsxs)("div",{children:[Object(y.jsx)(T,{}),Object(y.jsx)("h5",{children:"Inicio"})]})}var A=n(72);function C(){return q.apply(this,arguments)}function q(){return(q=Object(d.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O("task/");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function J(e){return M.apply(this,arguments)}function M(){return(M=Object(d.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v("task/",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(e){return L.apply(this,arguments)}function L(){return(L=Object(d.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g("task/".concat(t.id),t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function z(e){return U.apply(this,arguments)}function U(){return(U=Object(d.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N("task/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(){var e=Object(r.useState)([]),t=Object(E.a)(e,2),n=t[0],a=t[1],c=Object(j.a)(),s=c.register,i=c.handleSubmit,o=c.formState.errors,l=c.setValue,b=function(){var e=Object(d.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C().then((function(e){return a(e.data)})).catch((function(e){return console.log(e)}));case 2:m();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=Object(d.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===t.id){e.next=5;break}return e.next=3,B(t).then((function(e){b(),alert("Actualizaci\xf3n Exitosa")})).catch((function(e){var t,n;return alert(null===e||void 0===e||null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.detail)}));case 3:e.next=7;break;case 5:return e.next=7,J(t).then((function(e){b(),alert("Registro Exitoso")})).catch((function(e){var t,n;return alert(null===e||void 0===e||null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.detail)}));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(d.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z(t).then((function(e){b(),alert("Eliminado correctamente")})).catch((function(e){var t,n;return alert(null===e||void 0===e||null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.detail)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){l("id",0),l("titulo",""),l("descripcion","")};return Object(r.useEffect)((function(){}),[]),Object(y.jsxs)("div",{children:[Object(y.jsx)(T,{}),Object(y.jsx)("div",{className:"container mt-2",children:Object(y.jsxs)("div",{className:"row",children:[Object(y.jsx)("div",{className:"col",children:Object(y.jsx)(A.a,{children:Object(y.jsxs)(A.a.Body,{children:[Object(y.jsx)(A.a.Title,{className:"text-center",children:"Agregar Tarea"}),Object(y.jsxs)("form",{onSubmit:i(h),children:[Object(y.jsx)("input",Object(u.a)({type:"hidden"},s("id"))),Object(y.jsxs)("div",{className:"form-group",children:[Object(y.jsx)("input",Object(u.a)({type:"text",className:"form-control",placeholder:"Titulo"},s("titulo",{required:"Este campo es obligatorio"}))),(null===o||void 0===o?void 0:o.titulo)&&Object(y.jsx)("p",{className:"text-danger text-sm",children:o.titulo.message})]}),Object(y.jsxs)("div",{className:"form-group",children:[Object(y.jsx)("textarea",Object(u.a)({rows:4,className:"form-control",placeholder:"Descripcion"},s("descripcion",{required:"Este campo es obligatorio"}))),(null===o||void 0===o?void 0:o.descripcion)&&Object(y.jsx)("p",{className:"text-danger text-sm",children:o.descripcion.message})]}),Object(y.jsx)("button",{className:"btn btn-outline-success btn-block",children:"Agregar"})]})]})})}),Object(y.jsx)("div",{className:"col",children:Object(y.jsx)(A.a,{children:Object(y.jsxs)(A.a.Body,{children:[Object(y.jsx)(A.a.Title,{className:"text-center",children:"Lista de Tareas"}),Object(y.jsx)("div",{className:"table-responsive",children:Object(y.jsxs)("table",{className:"table",children:[Object(y.jsx)("thead",{children:Object(y.jsxs)("tr",{children:[Object(y.jsx)("th",{children:"Titulo"}),Object(y.jsx)("th",{children:"Acciones"})]})}),Object(y.jsx)("tbody",{children:n.map((function(e){return Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{children:e.titulo}),Object(y.jsxs)("td",{children:[Object(y.jsx)("button",{className:"btn btn-warning btn-sm mx-1",onClick:function(){return function(e){l("id",e.id),l("titulo",e.titulo),l("descripcion",e.descripcion)}(e)},children:"Editar"}),Object(y.jsx)("button",{className:"btn btn-danger btn-sm mx-1",onClick:function(){return x((null===e||void 0===e?void 0:e.id)||0)},children:"Eliminar"})]})]},e.id)}))})]})})]})})})]})})]})}function D(){return Object(y.jsxs)("div",{children:[Object(y.jsx)(T,{}),Object(y.jsx)("h5",{children:"Usuarios"})]})}function R(){return Object(y.jsx)(i.a,{children:Object(y.jsxs)(o.c,{children:[Object(y.jsx)(o.a,{path:"/app-tareas/tareas",component:_}),Object(y.jsx)(o.a,{path:"/app-tareas/usuarios",component:D}),Object(y.jsx)(o.a,{path:"/app-tareas/inicio",component:I}),Object(y.jsx)(o.a,{path:"/app-tareas",component:S}),Object(y.jsx)(o.a,{path:"/",component:S})]})})}s.a.render(Object(y.jsx)(a.a.StrictMode,{children:Object(y.jsx)(R,{})}),document.getElementById("root"))}},[[70,1,2]]]);
//# sourceMappingURL=main.99194e24.chunk.js.map